window.onload=function(){let imagedefond=document.querySelector(".imgDeFond");if(imagedefond!=null){let imageHeight=imagedefond.height;let imagecitation=document.querySelector(".citation");if(imagecitation!=null){imagecitation.style.height=imageHeight+"px"}}};$(function(){$("#divListFAQ").accordion({heightStyle:"content"})});$(function(){$("#dateCreez").datepicker();$("#dateCreez").datepicker("option","dateFormat","dd/mm/yy");$("#dateCreez").datepicker("option","showAnim","clip");$("#dateCreez").datepicker("option","duration","slow")});let nomprenomValid=/^[a-zA-ZéèîïÉÈÎÏ]{1,}[a-zéèêàçîï]+([-'\s][a-zA-ZéèîïÉÈÎÏ][a-zéèêàçîï]+)?$/;let mailValid=/^[^\W][a-zA-Z0-9_]+(\.[a-zA-Z0-9_]+)*\@[a-zA-Z0-9_]+(\.[a-zA-Z0-9_]+)*\.[a-zA-Z]{2,5}$/;let telephoneValid=/^(\d\d){5}$/;let PassValid=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*\W).{8,}$/;let DateValid=/^[0-9]{2}[/]{1}[0-9]{2}[/]{1}[0-9]{4}$/;let BtnCookieAccepter=document.getElementById("BtnCookieAccepter");let boutonFaq=document.getElementById("boutonFaq");let fermerModalFaq=document.getElementById("fermerModalFaq");let boutonSidentifier=document.getElementById("boutonSidentifier");let boutonFermerModalConnection=document.getElementById("fermerModalConnection");let testIdentifier=document.getElementById("boutonEnvoyerIdentifier");let btnBesoinCompte=document.getElementById("btnBesoinCompte");let boutonCreerCompte=document.getElementById("boutonCreerCompte");let fermerModalCreerCompte=document.getElementById("fermerModalCreerCompte");let formValidCreez=document.getElementById("boutonEnvoyerCreez");let btnHaut=document.getElementById("retourHaut");let formValidPass=document.getElementById("comptePassEnregistrer");let formValidMonCompte=document.getElementById("compteEnregistrer");let tabImgSlider=["./../app/public/image/slider/biblio.jpg","./../app/public/image/slider/la_biblio.jpg","./../app/public/image/slider/lecture.png","./../app/public/image/slider/livre_magic.png","./../app/public/image/slider/livre.png"];let numImgSlider=0;let imgSlider=document.getElementById("imgSlider");let gauche=document.getElementById("gauche");let droite=document.getElementById("droite");
BtnCookieAccepter.addEventListener("click",function(){sessionStorage.setItem('AcceptCookie', 'ok');masquerBandeauCookies()});function masquerBandeauCookies(){let divBandeauCookies=document.getElementById("barreCookie");divBandeauCookies.style.display="none";}if(sessionStorage.getItem('AcceptCookie')){if(sessionStorage.getItem('AcceptCookie')=='ok'){masquerBandeauCookies()}};function menuActive(indexActive){let conteneurMenu=document.getElementById("conteneurMenu");let tabElementLi=conteneurMenu.getElementsByClassName("nav-item");tabElementLi[indexActive].className+=" active";let conteneurMenuBurger=document.getElementById("conteneurMenuBurger");let tabElementLiBurger=conteneurMenuBurger.getElementsByClassName("nav-item");tabElementLiBurger[indexActive].className+=" active"};$("#btnBurger").click(function(){if($(".navMenuBurger").is(":visible")){$(".navMenuBurger").hide("slow")}else{$(".navMenuBurger").show("slow")}});
$(".selectionLivres").hide();$(".btnloupe").click(function(){if($(".selectionLivres").is(":visible")){$(".selectionLivres").hide("slow")}else{$(".selectionLivres").show("slow")}});function verificationRecherche(){let selectCategorie=document.getElementById("selectCategorie");let choix=selectCategorie.selectedIndex;let valeurCategorie=selectCategorie.options[choix].value;let champRecherche=document.getElementById("champRecherche").value;if(valeurCategorie==0&&champRecherche==""){alert("Veuillez choisir une catégorie et / ou saisir du texte !")}else{window.document.formRecherche.submit()}};boutonFaq.addEventListener("click",function(e){e.preventDefault();$("#modalFaq").show("slow")});fermerModalFaq.addEventListener("click",function(e){e.preventDefault();$("#modalFaq").hide("slow")});boutonSidentifier.addEventListener("click",function(e){e.preventDefault();document.getElementById('errorMailIdentifier').textContent="";document.getElementById('errorMotDePasseIdentifier').textContent="";document.getElementById('erreurPostFormulaireConnexion').textContent="";document.getElementById("motDePasseIdentifier").value="";$("#modalConnection").show("slow")});boutonFermerModalConnection.addEventListener("click",function(e){e.preventDefault();$("#modalConnection").hide("slow")});testIdentifier.addEventListener("click",function(event){validSomething(event,emailIdentifier,mailValid,errorMailIdentifier,"email");validSomething(event,motDePasseIdentifier,PassValid,errorMotDePasseIdentifier,"mot de passe")});btnBesoinCompte.addEventListener("click",function(){$("#modalConnection").hide("slow");$("#modalCreerCompte").show("slow")});boutonCreerCompte.addEventListener("click",function(e){e.preventDefault();document.getElementById('errorCiviliteCreez').textContent="";document.getElementById('errorPrenomCreez').textContent="";document.getElementById('errorNomCreez').textContent="";document.getElementById('errorMailCreez').textContent="";document.getElementById('errorMobileCreez').textContent="";document.getElementById('errorTelephoneCreez').textContent="";document.getElementById('errorMotDePasseCreez').textContent="";document.getElementById('errorMotDePasseCreezConfirm').textContent="";document.getElementById('errorAdresseCreez').textContent="";document.getElementById('errorDateCreez').textContent="";document.getElementById('erreurPostFormulaireCreer').textContent="";document.getElementById("civiliteMRCreez").checked=!1;document.getElementById("civiliteMMECreez").checked=!1;document.getElementById("numeroAbonneCreez").value="";document.getElementById("nomCreez").value="";document.getElementById("prenomCreez").value="";document.getElementById("emailCreez").value="";document.getElementById("mobileCreez").value="";document.getElementById("telephoneCreez").value="";document.getElementById("motDePasseCreez").value="";document.getElementById("motDePasseCreezConfirm").value="";document.getElementById("adresseCreez").value="";document.getElementById("dateCreez").value="";document.getElementById("conditionsUtilisation").checked=!1;$("#modalCreerCompte").show("slow")});fermerModalCreerCompte.addEventListener("click",function(e){e.preventDefault();$("#modalCreerCompte").hide("slow")});formValidCreez.addEventListener("click",function(event){validCivilite(event,civiliteMRCreez,civiliteMMECreez,errorCiviliteCreez,"Civilité");validSomething(event,nomCreez,nomprenomValid,errorNomCreez,"Nom");validSomething(event,prenomCreez,nomprenomValid,errorPrenomCreez,"Prénom");validSomething(event,emailCreez,mailValid,errorMailCreez,"Email");validSomething(event,mobileCreez,telephoneValid,errorMobileCreez,"Mobile");validSomethingVideAutorise(event,telephoneCreez,telephoneValid,errorTelephoneCreez,"Fixe");validSomethingNonVide(event,adresseCreez,errorAdresseCreez,"Adresse")
validSomething(event,dateCreez,DateValid,errorDateCreez,"Date");validSomething(event,motDePasseCreez,PassValid,errorMotDePasseCreez,"Mot de passe");validSomething(event,motDePasseCreezConfirm,PassValid,errorMotDePasseCreezConfirm,"Mot de passe");validIdentique(event,motDePasseCreez,motDePasseCreezConfirm,errorMotDePasseCreezConfirm,"Mot de passe saisie");validationCheckbox(event,conditionsUtilisation,errorCheckbox,"Conditions utilisation")});
btnHaut.addEventListener("click",function(){retourneEnHaut()});function retourneEnHaut(){window.scrollTo(0,0);}btnHaut.style.display="none";window.onscroll=function(){AfficheBtnHaut(btnHaut)};function AfficheBtnHaut(btnHaut){if(document.documentElement.scrollTop>250){btnHaut.style.display="block";}else{btnHaut.style.display="none"}};
if(formValidPass!=null){formValidPass.addEventListener("click",function(event){validSomething(event,nouveauMotPasse,PassValid,erreurNouveauMotPasse,"Mot de passe");validSomething(event,confirmNouveauMotPasse,PassValid,erreurConfirNouveauMotPasse,"Nouveau mot de passe");validIdentique(event,nouveauMotPasse,confirmNouveauMotPasse,erreurConfirNouveauMotPasse,"Mot de passe saisie")})}if(formValidMonCompte!=null){formValidMonCompte.addEventListener("click",function(event){validCivilite(event,civiliteMonsieur,civiliteMadame,erreurCiviliteCompte,"Civilité");validSomething(event,nomCompte,nomprenomValid,erreurNomCompte,"Nom");validSomething(event,prenomCompte,nomprenomValid,erreurPrenomCompte,"Prénom");validSomething(event,emailCompte,mailValid,erreurEmailCompte,"Email");validSomething(event,mobileCompte,telephoneValid,erreurMobileCompte,"Mobile");validSomethingVideAutorise(event,telephoneCompte,telephoneValid,erreurFixeCompte,"Fixe");validSomethingNonVide(event,adresseCompte,erreurAdresseCompte,"Adresse");validSomething(event,dateNaissanceCompte,DateValid,erreurDateNaissanceCompte,"Date de naissance")})};
if(imgSlider!=null){imgSlider.src=tabImgSlider[numImgSlider];setInterval("nextImage()",4000);}if(gauche!=null){gauche.addEventListener('click',function(){previousImage()})}if(droite!=null){droite.addEventListener('click',function(){nextImage()})}function nextImage(){numImgSlider=numImgSlider+1;if(numImgSlider==5){numImgSlider=0;}imgSlider.src=tabImgSlider[numImgSlider];}function previousImage(){numImgSlider=numImgSlider-1;if(numImgSlider==-1){numImgSlider=4;}imgSlider.src=tabImgSlider[numImgSlider]};
function AfficheNouveaute(imgs){var etendreImg=document.getElementsByClassName("etendreImg");var imgText=document.getElementsByClassName("imgtext");etendreImg[0].src=imgs.src;imgText[0].innerHTML=imgs.alt;etendreImg[0].parentElement.style.display="block"};
function search(){let adresse=document.getElementById("adresseCreez").value;if(adresse!=""){$("#adresseCreez").autocomplete({source:function(request,response){$.ajax({url:'https://api-adresse.data.gouv.fr/search/?',data:{q:adresse},dataType:"json",success:function(data){response($.map(data.features,function(item){console.log(item.properties.label);return{label:item.properties.label,value:item.properties.label}}))}})}})}};
function onYouTubeIframeAPIReady(){player1=new YT.Player('player1',{height:'143',width:'255',videoId:'GwYVr1ZFb-8',events:{}});player2=new YT.Player('player2',{height:'143',width:'255',videoId:'VVrG8KhDwHU',events:{}});player3=new YT.Player('player3',{height:'143',width:'255',videoId:'ydmlTbi6hdM',events:{}});player4=new YT.Player('player4',{height:'143',width:'255',videoId:'EA-RkfWvZPk',events:{}})}
function validCivilite(event,element1,element2,output,prefix){output.textContent=prefix+"manquant(e)";if(!element1.checked&&!element2.checked){event.preventDefault();output.textContent=prefix+"manquant(e)";output.style.color="red";}else{output.textContent="";}}function validSomething(event,element,nomValid,output,prefix){if(element.validity.valueMissing){event.preventDefault();output.textContent=prefix+"manquant(e)";output.style.color="red";}else if(nomValid.test(element.value)===false){event.preventDefault();output.textContent="format incorrect";output.style.color="red";}else{output.textContent="";}}function validSomethingVideAutorise(event,element,nomValid,output,prefix){if(element.value!=""){if(nomValid.test(element.value)===false){event.preventDefault();output.textContent="format incorrect";output.style.color="red";}else{output.textContent="";}}else{output.textContent="";}}function validSomethingNonVide(event,element,output,prefix){if(element.validity.valueMissing){event.preventDefault();output.textContent=prefix+"manquant(e)";output.style.color="red";}}function validIdentique(event,element1,element2,output,prefix){if(!(element1.value==element2.value)){event.preventDefault();output.textContent=prefix+"différent";output.style.color="red";}else{output.textContent="";}}function validationCheckbox(event,element,output,prefix){if(!element.checked){event.preventDefault();output.textContent=prefix+"manquant(e)";output.style.color="red";}else{output.textContent=""}};